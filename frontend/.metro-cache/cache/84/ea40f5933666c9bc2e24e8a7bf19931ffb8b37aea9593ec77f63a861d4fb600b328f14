{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        const storedUser = await AsyncStorage.default.getItem('authUser');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        await AsyncStorage.default.setItem('authUser', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        await AsyncStorage.default.setItem('authUser', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Register error:', error);\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('authToken');\n        await AsyncStorage.default.removeItem('authUser');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        isAuthenticated: !!token && !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":125,"map":[[13,2,39,0,"Object"],[13,8,39,0],[13,9,39,0,"defineProperty"],[13,23,39,0],[13,24,39,0,"exports"],[13,31,39,0],[14,4,39,0,"enumerable"],[14,14,39,0],[15,4,39,0,"get"],[15,7,39,0],[15,18,39,0,"get"],[15,19,39,0],[16,6,39,0],[16,13,39,0,"AuthProvider"],[16,25,39,0],[17,4,39,0],[18,2,39,0],[19,2,129,0,"Object"],[19,8,129,0],[19,9,129,0,"defineProperty"],[19,23,129,0],[19,24,129,0,"exports"],[19,31,129,0],[20,4,129,0,"enumerable"],[20,14,129,0],[21,4,129,0,"get"],[21,7,129,0],[21,18,129,0,"get"],[21,19,129,0],[22,6,129,0],[22,13,129,0,"useAuth"],[22,20,129,0],[23,4,129,0],[24,2,129,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"BACKEND_URL"],[31,19,5,17],[31,22,5,20,"process"],[31,29,5,27],[31,30,5,28,"env"],[31,33,5,31],[31,34,5,32,"EXPO_PUBLIC_BACKEND_URL"],[31,57,5,55],[32,2,37,0],[32,8,37,6,"AuthContext"],[32,19,37,17],[32,35,37,20],[32,39,37,20,"createContext"],[32,45,37,33],[32,46,37,33,"createContext"],[32,59,37,33],[32,61,37,63,"undefined"],[32,70,37,72],[32,71,37,73],[33,2,39,7],[33,8,39,13,"AuthProvider"],[33,20,39,66],[33,23,39,69,"AuthProvider"],[33,24,39,70],[34,4,39,72,"children"],[35,2,39,81],[35,3,39,82],[35,8,39,87],[36,4,40,2],[36,10,40,8],[36,11,40,9,"user"],[36,15,40,13],[36,17,40,15,"setUser"],[36,24,40,22],[36,25,40,23],[36,28,40,26],[36,32,40,26,"useState"],[36,38,40,34],[36,39,40,34,"useState"],[36,47,40,34],[36,49,40,48],[36,53,40,52],[36,54,40,53],[37,4,41,2],[37,10,41,8],[37,11,41,9,"token"],[37,16,41,14],[37,18,41,16,"setToken"],[37,26,41,24],[37,27,41,25],[37,30,41,28],[37,34,41,28,"useState"],[37,40,41,36],[37,41,41,36,"useState"],[37,49,41,36],[37,51,41,52],[37,55,41,56],[37,56,41,57],[38,4,42,2],[38,10,42,8],[38,11,42,9,"loading"],[38,18,42,16],[38,20,42,18,"setLoading"],[38,30,42,28],[38,31,42,29],[38,34,42,32],[38,38,42,32,"useState"],[38,44,42,40],[38,45,42,40,"useState"],[38,53,42,40],[38,55,42,41],[38,59,42,45],[38,60,42,46],[39,4,44,2],[39,8,44,2,"useEffect"],[39,14,44,11],[39,15,44,11,"useEffect"],[39,24,44,11],[39,26,44,12],[39,32,44,18],[40,6,45,4,"loadStoredAuth"],[40,20,45,18],[40,21,45,19],[40,22,45,20],[41,4,46,2],[41,5,46,3],[41,7,46,5],[41,9,46,7],[41,10,46,8],[42,4,48,2],[42,10,48,8,"loadStoredAuth"],[42,24,48,22],[42,27,48,25],[42,33,48,25,"loadStoredAuth"],[42,34,48,25],[42,39,48,37],[43,6,49,4],[43,10,49,8],[44,8,50,6],[44,14,50,12,"storedToken"],[44,25,50,23],[44,28,50,26],[44,34,50,32,"AsyncStorage"],[44,46,50,44],[44,47,50,44,"default"],[44,54,50,44],[44,55,50,45,"getItem"],[44,62,50,52],[44,63,50,53],[44,74,50,64],[44,75,50,65],[45,8,51,6],[45,14,51,12,"storedUser"],[45,24,51,22],[45,27,51,25],[45,33,51,31,"AsyncStorage"],[45,45,51,43],[45,46,51,43,"default"],[45,53,51,43],[45,54,51,44,"getItem"],[45,61,51,51],[45,62,51,52],[45,72,51,62],[45,73,51,63],[46,8,53,6],[46,12,53,10,"storedToken"],[46,23,53,21],[46,27,53,25,"storedUser"],[46,37,53,35],[46,39,53,37],[47,10,54,8,"setToken"],[47,18,54,16],[47,19,54,17,"storedToken"],[47,30,54,28],[47,31,54,29],[48,10,55,8,"setUser"],[48,17,55,15],[48,18,55,16,"JSON"],[48,22,55,20],[48,23,55,21,"parse"],[48,28,55,26],[48,29,55,27,"storedUser"],[48,39,55,37],[48,40,55,38],[48,41,55,39],[49,8,56,6],[50,6,57,4],[50,7,57,5],[50,8,57,6],[50,15,57,13,"error"],[50,20,57,18],[50,22,57,20],[51,8,58,6,"console"],[51,15,58,13],[51,16,58,14,"error"],[51,21,58,19],[51,22,58,20],[51,43,58,41],[51,45,58,43,"error"],[51,50,58,48],[51,51,58,49],[52,6,59,4],[52,7,59,5],[52,16,59,14],[53,8,60,6,"setLoading"],[53,18,60,16],[53,19,60,17],[53,24,60,22],[53,25,60,23],[54,6,61,4],[55,4,62,2],[55,5,62,3],[56,4,64,2],[56,10,64,8,"login"],[56,15,64,13],[56,18,64,16],[56,24,64,16,"login"],[56,25,64,23,"email"],[56,30,64,36],[56,32,64,38,"password"],[56,40,64,54],[56,45,64,59],[57,6,65,4],[57,10,65,8],[58,8,66,6],[58,14,66,12,"response"],[58,22,66,20],[58,25,66,23],[58,31,66,29,"axios"],[58,36,66,34],[58,37,66,34,"default"],[58,44,66,34],[58,45,66,35,"post"],[58,49,66,39],[58,50,66,40],[58,53,66,43,"BACKEND_URL"],[58,64,66,54],[58,81,66,71],[58,83,66,73],[59,10,67,8,"email"],[59,15,67,13],[60,10,68,8,"password"],[61,8,69,6],[61,9,69,7],[61,10,69,8],[62,8,71,6],[62,14,71,12],[63,10,71,14,"access_token"],[63,22,71,26],[64,10,71,28,"user"],[64,14,71,32],[64,16,71,34,"userData"],[65,8,71,43],[65,9,71,44],[65,12,71,47,"response"],[65,20,71,55],[65,21,71,56,"data"],[65,25,71,60],[66,8,73,6],[66,14,73,12,"AsyncStorage"],[66,26,73,24],[66,27,73,24,"default"],[66,34,73,24],[66,35,73,25,"setItem"],[66,42,73,32],[66,43,73,33],[66,54,73,44],[66,56,73,46,"access_token"],[66,68,73,58],[66,69,73,59],[67,8,74,6],[67,14,74,12,"AsyncStorage"],[67,26,74,24],[67,27,74,24,"default"],[67,34,74,24],[67,35,74,25,"setItem"],[67,42,74,32],[67,43,74,33],[67,53,74,43],[67,55,74,45,"JSON"],[67,59,74,49],[67,60,74,50,"stringify"],[67,69,74,59],[67,70,74,60,"userData"],[67,78,74,68],[67,79,74,69],[67,80,74,70],[68,8,76,6,"setToken"],[68,16,76,14],[68,17,76,15,"access_token"],[68,29,76,27],[68,30,76,28],[69,8,77,6,"setUser"],[69,15,77,13],[69,16,77,14,"userData"],[69,24,77,22],[69,25,77,23],[70,6,78,4],[70,7,78,5],[70,8,78,6],[70,15,78,13,"error"],[70,20,78,23],[70,22,78,25],[71,8,79,6,"console"],[71,15,79,13],[71,16,79,14,"error"],[71,21,79,19],[71,22,79,20],[71,36,79,34],[71,38,79,36,"error"],[71,43,79,41],[71,44,79,42],[72,8,80,6],[72,14,80,12],[72,18,80,16,"Error"],[72,23,80,21],[72,24,80,22,"error"],[72,29,80,27],[72,30,80,28,"response"],[72,38,80,36],[72,40,80,38,"data"],[72,44,80,42],[72,46,80,44,"detail"],[72,52,80,50],[72,56,80,54],[72,70,80,68],[72,71,80,69],[73,6,81,4],[74,4,82,2],[74,5,82,3],[75,4,84,2],[75,10,84,8,"register"],[75,18,84,16],[75,21,84,19],[75,27,84,26,"data"],[75,31,84,44],[75,35,84,49],[76,6,85,4],[76,10,85,8],[77,8,86,6],[77,14,86,12,"response"],[77,22,86,20],[77,25,86,23],[77,31,86,29,"axios"],[77,36,86,34],[77,37,86,34,"default"],[77,44,86,34],[77,45,86,35,"post"],[77,49,86,39],[77,50,86,40],[77,53,86,43,"BACKEND_URL"],[77,64,86,54],[77,84,86,74],[77,86,86,76,"data"],[77,90,86,80],[77,91,86,81],[78,8,88,6],[78,14,88,12],[79,10,88,14,"access_token"],[79,22,88,26],[80,10,88,28,"user"],[80,14,88,32],[80,16,88,34,"userData"],[81,8,88,43],[81,9,88,44],[81,12,88,47,"response"],[81,20,88,55],[81,21,88,56,"data"],[81,25,88,60],[82,8,90,6],[82,14,90,12,"AsyncStorage"],[82,26,90,24],[82,27,90,24,"default"],[82,34,90,24],[82,35,90,25,"setItem"],[82,42,90,32],[82,43,90,33],[82,54,90,44],[82,56,90,46,"access_token"],[82,68,90,58],[82,69,90,59],[83,8,91,6],[83,14,91,12,"AsyncStorage"],[83,26,91,24],[83,27,91,24,"default"],[83,34,91,24],[83,35,91,25,"setItem"],[83,42,91,32],[83,43,91,33],[83,53,91,43],[83,55,91,45,"JSON"],[83,59,91,49],[83,60,91,50,"stringify"],[83,69,91,59],[83,70,91,60,"userData"],[83,78,91,68],[83,79,91,69],[83,80,91,70],[84,8,93,6,"setToken"],[84,16,93,14],[84,17,93,15,"access_token"],[84,29,93,27],[84,30,93,28],[85,8,94,6,"setUser"],[85,15,94,13],[85,16,94,14,"userData"],[85,24,94,22],[85,25,94,23],[86,6,95,4],[86,7,95,5],[86,8,95,6],[86,15,95,13,"error"],[86,20,95,23],[86,22,95,25],[87,8,96,6,"console"],[87,15,96,13],[87,16,96,14,"error"],[87,21,96,19],[87,22,96,20],[87,39,96,37],[87,41,96,39,"error"],[87,46,96,44],[87,47,96,45],[88,8,97,6],[88,14,97,12],[88,18,97,16,"Error"],[88,23,97,21],[88,24,97,22,"error"],[88,29,97,27],[88,30,97,28,"response"],[88,38,97,36],[88,40,97,38,"data"],[88,44,97,42],[88,46,97,44,"detail"],[88,52,97,50],[88,56,97,54],[88,77,97,75],[88,78,97,76],[89,6,98,4],[90,4,99,2],[90,5,99,3],[91,4,101,2],[91,10,101,8,"logout"],[91,16,101,14],[91,19,101,17],[91,25,101,17,"logout"],[91,26,101,17],[91,31,101,29],[92,6,102,4],[92,10,102,8],[93,8,103,6],[93,14,103,12,"AsyncStorage"],[93,26,103,24],[93,27,103,24,"default"],[93,34,103,24],[93,35,103,25,"removeItem"],[93,45,103,35],[93,46,103,36],[93,57,103,47],[93,58,103,48],[94,8,104,6],[94,14,104,12,"AsyncStorage"],[94,26,104,24],[94,27,104,24,"default"],[94,34,104,24],[94,35,104,25,"removeItem"],[94,45,104,35],[94,46,104,36],[94,56,104,46],[94,57,104,47],[95,8,105,6,"setToken"],[95,16,105,14],[95,17,105,15],[95,21,105,19],[95,22,105,20],[96,8,106,6,"setUser"],[96,15,106,13],[96,16,106,14],[96,20,106,18],[96,21,106,19],[97,6,107,4],[97,7,107,5],[97,8,107,6],[97,15,107,13,"error"],[97,20,107,18],[97,22,107,20],[98,8,108,6,"console"],[98,15,108,13],[98,16,108,14,"error"],[98,21,108,19],[98,22,108,20],[98,37,108,35],[98,39,108,37,"error"],[98,44,108,42],[98,45,108,43],[99,6,109,4],[100,4,110,2],[100,5,110,3],[101,4,112,2],[101,24,113,4],[101,28,113,4,"_reactJsxDevRuntime"],[101,47,113,4],[101,48,113,4,"jsxDEV"],[101,54,113,4],[101,56,113,5,"AuthContext"],[101,67,113,16],[101,68,113,17,"Provider"],[101,76,113,25],[102,6,114,6,"value"],[102,11,114,11],[102,13,114,13],[103,8,115,8,"user"],[103,12,115,12],[104,8,116,8,"token"],[104,13,116,13],[105,8,117,8,"loading"],[105,15,117,15],[106,8,118,8,"login"],[106,13,118,13],[107,8,119,8,"register"],[107,16,119,16],[108,8,120,8,"logout"],[108,14,120,14],[109,8,121,8,"isAuthenticated"],[109,23,121,23],[109,25,121,25],[109,26,121,26],[109,27,121,27,"token"],[109,32,121,32],[109,36,121,36],[109,37,121,37],[109,38,121,38,"user"],[110,6,122,6],[110,7,122,8],[111,6,122,8,"children"],[111,14,122,8],[111,16,124,7,"children"],[112,4,124,15],[113,6,124,15,"fileName"],[113,14,124,15],[113,16,124,15,"_jsxFileName"],[113,28,124,15],[114,6,124,15,"lineNumber"],[114,16,124,15],[115,6,124,15,"columnNumber"],[115,18,124,15],[116,4,124,15],[116,11,125,26],[116,12,125,27],[117,2,127,0],[117,3,127,1],[118,2,129,7],[118,8,129,13,"useAuth"],[118,15,129,20],[118,18,129,23,"useAuth"],[118,19,129,23],[118,24,129,29],[119,4,130,2],[119,10,130,8,"context"],[119,17,130,15],[119,20,130,18],[119,24,130,18,"useContext"],[119,30,130,28],[119,31,130,28,"useContext"],[119,41,130,28],[119,43,130,29,"AuthContext"],[119,54,130,40],[119,55,130,41],[120,4,131,2],[120,8,131,6,"context"],[120,15,131,13],[120,20,131,18,"undefined"],[120,29,131,27],[120,31,131,29],[121,6,132,4],[121,12,132,10],[121,16,132,14,"Error"],[121,21,132,19],[121,22,132,20],[121,67,132,65],[121,68,132,66],[122,4,133,2],[123,4,134,2],[123,11,134,9,"context"],[123,18,134,16],[124,2,135,0],[124,3,135,1],[125,0,135,2],[125,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECsC;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJe;iBKE;GLS;CDiB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}