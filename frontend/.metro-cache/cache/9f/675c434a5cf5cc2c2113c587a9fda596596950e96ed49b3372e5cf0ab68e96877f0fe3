{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        const storedUser = await AsyncStorage.default.getItem('authUser');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        await AsyncStorage.default.setItem('authUser', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        await AsyncStorage.default.setItem('authUser', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Register error:', error);\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('authToken');\n        await AsyncStorage.default.removeItem('authUser');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        isAuthenticated: !!token && !!user\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":135,"map":[[15,2,38,0,"Object"],[15,8,38,0],[15,9,38,0,"defineProperty"],[15,23,38,0],[15,24,38,0,"exports"],[15,31,38,0],[16,4,38,0,"enumerable"],[16,14,38,0],[17,4,38,0,"get"],[17,7,38,0],[17,18,38,0,"get"],[17,19,38,0],[18,6,38,0],[18,13,38,0,"AuthProvider"],[18,25,38,0],[19,4,38,0],[20,2,38,0],[21,2,128,0,"Object"],[21,8,128,0],[21,9,128,0,"defineProperty"],[21,23,128,0],[21,24,128,0,"exports"],[21,31,128,0],[22,4,128,0,"enumerable"],[22,14,128,0],[23,4,128,0,"get"],[23,7,128,0],[23,18,128,0,"get"],[23,19,128,0],[24,6,128,0],[24,13,128,0,"useAuth"],[24,20,128,0],[25,4,128,0],[26,2,128,0],[27,2,134,2],[27,6,134,2,"_expoVirtualEnv"],[27,21,134,2],[27,24,134,2,"require"],[27,31,134,2],[27,32,134,2,"_dependencyMap"],[27,46,134,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"BACKEND_URL"],[34,19,5,17],[34,22,5,17,"_expoVirtualEnv"],[34,37,5,17],[34,38,5,17,"env"],[34,41,5,17],[34,42,5,17,"EXPO_PUBLIC_BACKEND_URL"],[34,65,5,55],[35,2,36,0],[35,8,36,6,"AuthContext"],[35,19,36,17],[35,35,36,20],[35,39,36,20,"createContext"],[35,45,36,33],[35,46,36,33,"createContext"],[35,59,36,33],[35,61,36,63,"undefined"],[35,70,36,72],[35,71,36,73],[36,2,38,7],[36,8,38,13,"AuthProvider"],[36,20,38,66],[36,23,38,69,"AuthProvider"],[36,24,38,70],[37,4,38,72,"children"],[38,2,38,81],[38,3,38,82],[38,8,38,87],[39,4,38,87,"_s"],[39,6,38,87],[40,4,39,2],[40,10,39,8],[40,11,39,9,"user"],[40,15,39,13],[40,17,39,15,"setUser"],[40,24,39,22],[40,25,39,23],[40,28,39,26],[40,32,39,26,"useState"],[40,38,39,34],[40,39,39,34,"useState"],[40,47,39,34],[40,49,39,48],[40,53,39,52],[40,54,39,53],[41,4,40,2],[41,10,40,8],[41,11,40,9,"token"],[41,16,40,14],[41,18,40,16,"setToken"],[41,26,40,24],[41,27,40,25],[41,30,40,28],[41,34,40,28,"useState"],[41,40,40,36],[41,41,40,36,"useState"],[41,49,40,36],[41,51,40,52],[41,55,40,56],[41,56,40,57],[42,4,41,2],[42,10,41,8],[42,11,41,9,"loading"],[42,18,41,16],[42,20,41,18,"setLoading"],[42,30,41,28],[42,31,41,29],[42,34,41,32],[42,38,41,32,"useState"],[42,44,41,40],[42,45,41,40,"useState"],[42,53,41,40],[42,55,41,41],[42,59,41,45],[42,60,41,46],[43,4,43,2],[43,8,43,2,"useEffect"],[43,14,43,11],[43,15,43,11,"useEffect"],[43,24,43,11],[43,26,43,12],[43,32,43,18],[44,6,44,4,"loadStoredAuth"],[44,20,44,18],[44,21,44,19],[44,22,44,20],[45,4,45,2],[45,5,45,3],[45,7,45,5],[45,9,45,7],[45,10,45,8],[46,4,47,2],[46,10,47,8,"loadStoredAuth"],[46,24,47,22],[46,27,47,25],[46,33,47,25,"loadStoredAuth"],[46,34,47,25],[46,39,47,37],[47,6,48,4],[47,10,48,8],[48,8,49,6],[48,14,49,12,"storedToken"],[48,25,49,23],[48,28,49,26],[48,34,49,32,"AsyncStorage"],[48,46,49,44],[48,47,49,44,"default"],[48,54,49,44],[48,55,49,45,"getItem"],[48,62,49,52],[48,63,49,53],[48,74,49,64],[48,75,49,65],[49,8,50,6],[49,14,50,12,"storedUser"],[49,24,50,22],[49,27,50,25],[49,33,50,31,"AsyncStorage"],[49,45,50,43],[49,46,50,43,"default"],[49,53,50,43],[49,54,50,44,"getItem"],[49,61,50,51],[49,62,50,52],[49,72,50,62],[49,73,50,63],[50,8,52,6],[50,12,52,10,"storedToken"],[50,23,52,21],[50,27,52,25,"storedUser"],[50,37,52,35],[50,39,52,37],[51,10,53,8,"setToken"],[51,18,53,16],[51,19,53,17,"storedToken"],[51,30,53,28],[51,31,53,29],[52,10,54,8,"setUser"],[52,17,54,15],[52,18,54,16,"JSON"],[52,22,54,20],[52,23,54,21,"parse"],[52,28,54,26],[52,29,54,27,"storedUser"],[52,39,54,37],[52,40,54,38],[52,41,54,39],[53,8,55,6],[54,6,56,4],[54,7,56,5],[54,8,56,6],[54,15,56,13,"error"],[54,20,56,18],[54,22,56,20],[55,8,57,6,"console"],[55,15,57,13],[55,16,57,14,"error"],[55,21,57,19],[55,22,57,20],[55,43,57,41],[55,45,57,43,"error"],[55,50,57,48],[55,51,57,49],[56,6,58,4],[56,7,58,5],[56,16,58,14],[57,8,59,6,"setLoading"],[57,18,59,16],[57,19,59,17],[57,24,59,22],[57,25,59,23],[58,6,60,4],[59,4,61,2],[59,5,61,3],[60,4,63,2],[60,10,63,8,"login"],[60,15,63,13],[60,18,63,16],[60,24,63,16,"login"],[60,25,63,23,"email"],[60,30,63,36],[60,32,63,38,"password"],[60,40,63,54],[60,45,63,59],[61,6,64,4],[61,10,64,8],[62,8,65,6],[62,14,65,12,"response"],[62,22,65,20],[62,25,65,23],[62,31,65,29,"axios"],[62,36,65,34],[62,37,65,34,"default"],[62,44,65,34],[62,45,65,35,"post"],[62,49,65,39],[62,50,65,40],[62,53,65,43,"BACKEND_URL"],[62,64,65,54],[62,81,65,71],[62,83,65,73],[63,10,66,8,"email"],[63,15,66,13],[64,10,67,8,"password"],[65,8,68,6],[65,9,68,7],[65,10,68,8],[66,8,70,6],[66,14,70,12],[67,10,70,14,"access_token"],[67,22,70,26],[68,10,70,28,"user"],[68,14,70,32],[68,16,70,34,"userData"],[69,8,70,43],[69,9,70,44],[69,12,70,47,"response"],[69,20,70,55],[69,21,70,56,"data"],[69,25,70,60],[70,8,72,6],[70,14,72,12,"AsyncStorage"],[70,26,72,24],[70,27,72,24,"default"],[70,34,72,24],[70,35,72,25,"setItem"],[70,42,72,32],[70,43,72,33],[70,54,72,44],[70,56,72,46,"access_token"],[70,68,72,58],[70,69,72,59],[71,8,73,6],[71,14,73,12,"AsyncStorage"],[71,26,73,24],[71,27,73,24,"default"],[71,34,73,24],[71,35,73,25,"setItem"],[71,42,73,32],[71,43,73,33],[71,53,73,43],[71,55,73,45,"JSON"],[71,59,73,49],[71,60,73,50,"stringify"],[71,69,73,59],[71,70,73,60,"userData"],[71,78,73,68],[71,79,73,69],[71,80,73,70],[72,8,75,6,"setToken"],[72,16,75,14],[72,17,75,15,"access_token"],[72,29,75,27],[72,30,75,28],[73,8,76,6,"setUser"],[73,15,76,13],[73,16,76,14,"userData"],[73,24,76,22],[73,25,76,23],[74,6,77,4],[74,7,77,5],[74,8,77,6],[74,15,77,13,"error"],[74,20,77,23],[74,22,77,25],[75,8,78,6,"console"],[75,15,78,13],[75,16,78,14,"error"],[75,21,78,19],[75,22,78,20],[75,36,78,34],[75,38,78,36,"error"],[75,43,78,41],[75,44,78,42],[76,8,79,6],[76,14,79,12],[76,18,79,16,"Error"],[76,23,79,21],[76,24,79,22,"error"],[76,29,79,27],[76,30,79,28,"response"],[76,38,79,36],[76,40,79,38,"data"],[76,44,79,42],[76,46,79,44,"detail"],[76,52,79,50],[76,56,79,54],[76,70,79,68],[76,71,79,69],[77,6,80,4],[78,4,81,2],[78,5,81,3],[79,4,83,2],[79,10,83,8,"register"],[79,18,83,16],[79,21,83,19],[79,27,83,26,"data"],[79,31,83,44],[79,35,83,49],[80,6,84,4],[80,10,84,8],[81,8,85,6],[81,14,85,12,"response"],[81,22,85,20],[81,25,85,23],[81,31,85,29,"axios"],[81,36,85,34],[81,37,85,34,"default"],[81,44,85,34],[81,45,85,35,"post"],[81,49,85,39],[81,50,85,40],[81,53,85,43,"BACKEND_URL"],[81,64,85,54],[81,84,85,74],[81,86,85,76,"data"],[81,90,85,80],[81,91,85,81],[82,8,87,6],[82,14,87,12],[83,10,87,14,"access_token"],[83,22,87,26],[84,10,87,28,"user"],[84,14,87,32],[84,16,87,34,"userData"],[85,8,87,43],[85,9,87,44],[85,12,87,47,"response"],[85,20,87,55],[85,21,87,56,"data"],[85,25,87,60],[86,8,89,6],[86,14,89,12,"AsyncStorage"],[86,26,89,24],[86,27,89,24,"default"],[86,34,89,24],[86,35,89,25,"setItem"],[86,42,89,32],[86,43,89,33],[86,54,89,44],[86,56,89,46,"access_token"],[86,68,89,58],[86,69,89,59],[87,8,90,6],[87,14,90,12,"AsyncStorage"],[87,26,90,24],[87,27,90,24,"default"],[87,34,90,24],[87,35,90,25,"setItem"],[87,42,90,32],[87,43,90,33],[87,53,90,43],[87,55,90,45,"JSON"],[87,59,90,49],[87,60,90,50,"stringify"],[87,69,90,59],[87,70,90,60,"userData"],[87,78,90,68],[87,79,90,69],[87,80,90,70],[88,8,92,6,"setToken"],[88,16,92,14],[88,17,92,15,"access_token"],[88,29,92,27],[88,30,92,28],[89,8,93,6,"setUser"],[89,15,93,13],[89,16,93,14,"userData"],[89,24,93,22],[89,25,93,23],[90,6,94,4],[90,7,94,5],[90,8,94,6],[90,15,94,13,"error"],[90,20,94,23],[90,22,94,25],[91,8,95,6,"console"],[91,15,95,13],[91,16,95,14,"error"],[91,21,95,19],[91,22,95,20],[91,39,95,37],[91,41,95,39,"error"],[91,46,95,44],[91,47,95,45],[92,8,96,6],[92,14,96,12],[92,18,96,16,"Error"],[92,23,96,21],[92,24,96,22,"error"],[92,29,96,27],[92,30,96,28,"response"],[92,38,96,36],[92,40,96,38,"data"],[92,44,96,42],[92,46,96,44,"detail"],[92,52,96,50],[92,56,96,54],[92,77,96,75],[92,78,96,76],[93,6,97,4],[94,4,98,2],[94,5,98,3],[95,4,100,2],[95,10,100,8,"logout"],[95,16,100,14],[95,19,100,17],[95,25,100,17,"logout"],[95,26,100,17],[95,31,100,29],[96,6,101,4],[96,10,101,8],[97,8,102,6],[97,14,102,12,"AsyncStorage"],[97,26,102,24],[97,27,102,24,"default"],[97,34,102,24],[97,35,102,25,"removeItem"],[97,45,102,35],[97,46,102,36],[97,57,102,47],[97,58,102,48],[98,8,103,6],[98,14,103,12,"AsyncStorage"],[98,26,103,24],[98,27,103,24,"default"],[98,34,103,24],[98,35,103,25,"removeItem"],[98,45,103,35],[98,46,103,36],[98,56,103,46],[98,57,103,47],[99,8,104,6,"setToken"],[99,16,104,14],[99,17,104,15],[99,21,104,19],[99,22,104,20],[100,8,105,6,"setUser"],[100,15,105,13],[100,16,105,14],[100,20,105,18],[100,21,105,19],[101,6,106,4],[101,7,106,5],[101,8,106,6],[101,15,106,13,"error"],[101,20,106,18],[101,22,106,20],[102,8,107,6,"console"],[102,15,107,13],[102,16,107,14,"error"],[102,21,107,19],[102,22,107,20],[102,37,107,35],[102,39,107,37,"error"],[102,44,107,42],[102,45,107,43],[103,6,108,4],[104,4,109,2],[104,5,109,3],[105,4,111,2],[105,24,112,4],[105,28,112,4,"_reactJsxDevRuntime"],[105,47,112,4],[105,48,112,4,"jsxDEV"],[105,54,112,4],[105,56,112,5,"AuthContext"],[105,67,112,16],[105,68,112,17,"Provider"],[105,76,112,25],[106,6,113,6,"value"],[106,11,113,11],[106,13,113,13],[107,8,114,8,"user"],[107,12,114,12],[108,8,115,8,"token"],[108,13,115,13],[109,8,116,8,"loading"],[109,15,116,15],[110,8,117,8,"login"],[110,13,117,13],[111,8,118,8,"register"],[111,16,118,16],[112,8,119,8,"logout"],[112,14,119,14],[113,8,120,8,"isAuthenticated"],[113,23,120,23],[113,25,120,25],[113,26,120,26],[113,27,120,27,"token"],[113,32,120,32],[113,36,120,36],[113,37,120,37],[113,38,120,38,"user"],[114,6,121,6],[114,7,121,8],[115,6,121,8,"children"],[115,14,121,8],[115,16,123,7,"children"],[116,4,123,15],[117,6,123,15,"fileName"],[117,14,123,15],[117,16,123,15,"_jsxFileName"],[117,28,123,15],[118,6,123,15,"lineNumber"],[118,16,123,15],[119,6,123,15,"columnNumber"],[119,18,123,15],[120,4,123,15],[120,11,124,26],[120,12,124,27],[121,2,126,0],[121,3,126,1],[122,2,126,2,"_s"],[122,4,126,2],[122,5,38,13,"AuthProvider"],[122,17,38,66],[123,2,38,66,"_c"],[123,4,38,66],[123,7,38,13,"AuthProvider"],[123,19,38,66],[124,2,128,7],[124,8,128,13,"useAuth"],[124,15,128,20],[124,18,128,23,"useAuth"],[124,19,128,23],[124,24,128,29],[125,4,128,29,"_s2"],[125,7,128,29],[126,4,129,2],[126,10,129,8,"context"],[126,17,129,15],[126,20,129,18],[126,24,129,18,"useContext"],[126,30,129,28],[126,31,129,28,"useContext"],[126,41,129,28],[126,43,129,29,"AuthContext"],[126,54,129,40],[126,55,129,41],[127,4,130,2],[127,8,130,6,"context"],[127,15,130,13],[127,20,130,18,"undefined"],[127,29,130,27],[127,31,130,29],[128,6,131,4],[128,12,131,10],[128,16,131,14,"Error"],[128,21,131,19],[128,22,131,20],[128,67,131,65],[128,68,131,66],[129,4,132,2],[130,4,133,2],[130,11,133,9,"context"],[130,18,133,16],[131,2,134,0],[131,3,134,1],[132,2,134,2,"_s2"],[132,5,134,2],[132,6,128,13,"useAuth"],[132,13,128,20],[133,2,128,20],[133,6,128,20,"_c"],[133,8,128,20],[134,2,128,20,"$RefreshReg$"],[134,14,128,20],[134,15,128,20,"_c"],[134,17,128,20],[135,0,128,20],[135,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECqC;YCK;GDE;yBEE;GFc;gBGE;GHkB;mBIE;GJe;iBKE;GLS;CDiB;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}